
{% extends 'base.html' %}

{% block content %}

<div class="get-input-text" style=" width : 100%; height: 100%; position: relative; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; flex-direction: column; align-items: center; justify-content: space-around;">
	<textarea id = 'box1' type="text" name="get-text" style="border: 2px solid gray; border-radius: 10px; min-height: 25% ; width: 50%; font-size: 20px; scrollbar-width: none; outline: none;" placeholder="Enter your text here to convert it into voice ...."  ></textarea>
	<div class="all-buttons">
		<button id='clear' class="btn btn-secondary">CLEAR</button>
		<button id='speak' class="btn btn-secondary">SPEAK</button>
		<button id='stop' class="btn btn-secondary">STOP</button>
	</div>
</div>


<script>

	field = document.querySelector("#box1")
	clear = document.querySelector("#clear")
	speak = document.querySelector("#speak")
	stop = document.querySelector("#stop")



	clear.addEventListener("click",function(){
		field.value = ''
	})

	speak.addEventListener("click",(e)=>{
		text = field.value
		speech = new SpeechSynthesisUtterance(text)
		speech.lang = 'en-US'
		speech.rate = 0.7
		speech.pitch = 1596351568
		window.speechSynthesis.speak(speech)
	})

	stop.addEventListener('click',function(){
		window.speechSynthesis.cancel()
	})

	field.addEventListener('input',(e)=>{
		adjustHeight(e.target)
	})

    function adjustHeight(element) {
        element.style.height = "auto"; 
        element.style.height = element.scrollHeight + "px"; 
    }
</script>

{% endblock %}